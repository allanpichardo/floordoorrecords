(this["webpackJsonpfloordoor-records"]=this["webpackJsonpfloordoor-records"]||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/floordoor_logo.222aeaaf.svg"},25:function(e,t,a){e.exports=a(45)},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(20),i=a.n(c),r=(a(30),a(1)),s=a(2),u=a(5),o=a(4),m=a(7),h=a(6),f=(a(31),a(32),a(21)),p=a.n(f),b=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={isOpen:e.isOpen},a.handleMenuClicked=a.handleMenuClicked.bind(Object(m.a)(a)),a.getButtonStyle=a.getButtonStyle.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"getIcon",value:function(){return this.state.isOpen?l.a.createElement("i",{className:"material-icons"},"menu_open"):l.a.createElement("i",{className:"material-icons"},"menu")}},{key:"handleMenuClicked",value:function(){this.props.onMenuClicked&&this.props.onMenuClicked(!this.state.isOpen)}},{key:"componentDidUpdate",value:function(e,t,a){this.props.isOpen!==e.isOpen&&this.setState({isOpen:this.props.isOpen})}},{key:"getButtonStyle",value:function(){return this.state.isOpen?"Toolbar-menu Toolbar-open":"Toolbar-menu"}},{key:"render",value:function(){return l.a.createElement("div",{className:"Toolbar"},l.a.createElement("button",{className:this.getButtonStyle(),onClick:this.handleMenuClicked},this.getIcon()),l.a.createElement("div",{className:"Toolbar-title"},l.a.createElement("img",{src:p.a,alt:"logo"})))}}]),t}(n.Component),d=(a(33),a(11)),v=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={isOpen:a.props.isOpen},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"getOpenClass",value:function(){return this.state.isOpen?"Menu Menu-open":"Menu"}},{key:"componentDidUpdate",value:function(e,t,a){this.props.isOpen!==e.isOpen&&this.setState({isOpen:this.props.isOpen})}},{key:"render",value:function(){return l.a.createElement("div",{className:this.getOpenClass()},l.a.createElement("div",null),l.a.createElement("div",{className:"Menu-link-container"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(d.c,{exact:!0,to:"/",className:"Menu-link",activeClassName:"Menu-selected"},"Releases")),l.a.createElement("li",null,l.a.createElement(d.c,{to:"/artists",className:"Menu-link",activeClassName:"Menu-selected"},"Artists")),l.a.createElement("li",null,l.a.createElement(d.c,{exact:!0,to:"/contact",className:"Menu-link",activeClassName:"Menu-selected"},"Contact")))),l.a.createElement("div",{className:"Menu-footer"}))}}]),t}(l.a.Component),O=a(12),E=(a(39),a(40),a(24)),j=a.n(E),k=function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"Album"},l.a.createElement(d.b,{to:"/releases/".concat(j()(this.props.albumData.title))},l.a.createElement("img",{src:this.props.albumData.image,alt:this.props.albumData.title}),l.a.createElement("div",{className:"Album-overlay"},l.a.createElement("h4",null,this.props.albumData.title),l.a.createElement("h5",null,this.props.albumData.artist))))}}]),t}(l.a.Component),y=function(){function e(){Object(r.a)(this,e)}return Object(s.a)(e,null,[{key:"fetchAllAlbums",value:function(e){fetch("/data/albums.json").then((function(e){return e.json()})).then((function(t){e(null,t)})).catch((function(t){e(t)}))}},{key:"fetchAllArtists",value:function(e){fetch("/data/artists.json").then((function(e){return e.json()})).then((function(t){e(null,t)})).catch((function(t){e(t)}))}},{key:"findAlbumByName",value:function(t,a){if(t.length>0){for(var n=e.levenshteinDistance(a,t[0].title),l=0,c=1;c<t.length;c++){var i=e.levenshteinDistance(a,t[c].title);i<n&&(l=c,n=i)}return t[l].title.charAt(0)===a.charAt(0)?t[l]:null}return null}},{key:"levenshteinDistance",value:function(e,t){for(var a=Array(t.length+1).fill(null).map((function(){return Array(e.length+1).fill(null)})),n=0;n<=e.length;n+=1)a[0][n]=n;for(var l=0;l<=t.length;l+=1)a[l][0]=l;for(var c=1;c<=t.length;c+=1)for(var i=1;i<=e.length;i+=1){var r=e[i-1]===t[c-1]?0:1;a[c][i]=Math.min(a[c][i-1]+1,a[c-1][i]+1,a[c-1][i-1]+r)}return a[t.length][e.length]}}]),e}(),D=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={albumData:[]},a.fetchAlbumData=a.fetchAlbumData.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchAlbumData()}},{key:"fetchAlbumData",value:function(){var e=this;y.fetchAllAlbums((function(t,a){t?console.log(t):e.setState({albumData:a})}))}},{key:"render",value:function(){var e=this.state.albumData.slice();return l.a.createElement("div",{className:"AlbumGrid"},e.map((function(e){return l.a.createElement(k,{albumData:e,key:e.title})})))}}]),t}(l.a.Component),A=(a(41),a(42),function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"Player"},l.a.createElement("iframe",{title:this.props.title,src:"https://bandcamp.com/EmbeddedPlayer/album=".concat(this.props.albumId,"/size=large/bgcol=ffffff/linkcol=333333/package=").concat(this.props.merchId?this.props.merchId:"","/transparent=true/"),seamless:!0}))}}]),t}(l.a.Component)),g=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={albumData:a.props.albumData},a.fetchAlbumData=a.fetchAlbumData.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.state.albumData||this.fetchAlbumData()}},{key:"fetchAlbumData",value:function(){var e=this,t=this.props.match.params.slug;y.fetchAllAlbums((function(a,n){if(a)console.log(a);else{var l=y.findAlbumByName(n,t);e.setState({albumData:l})}}))}},{key:"render",value:function(){return this.state.albumData?l.a.createElement("div",{className:"Release"},l.a.createElement("div",{className:"Release-title"},l.a.createElement("h1",null,this.state.albumData.title),l.a.createElement("h3",null,this.state.albumData.artist)),l.a.createElement("div",{className:"Release-info"},l.a.createElement("p",null,this.state.albumData.notes)),l.a.createElement("div",{className:"Release-player"},l.a.createElement(A,{albumId:this.state.albumData.bandcamp_id,merchId:this.state.albumData.merch_id}))):null===this.state.albumData?l.a.createElement(O.a,{to:"/releases"}):l.a.createElement("div",null)}}]),t}(l.a.Component),N=(a(43),a(44),function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"Artist"},l.a.createElement("img",{src:this.props.artistData.cover_image,alt:this.props.artistData.title}))}}]),t}(l.a.Component)),M=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={artists:[]},a.fetchArtistData=a.fetchArtistData.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchArtistData()}},{key:"fetchArtistData",value:function(){var e=this;y.fetchAllArtists((function(t,a){t?console.log(t):e.setState({artists:a})}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"ArtistGrid"},l.a.createElement("div",{className:"ArtistGrid-columns"},this.state.artists.map((function(e){return l.a.createElement(N,{artistData:e,key:e.name})}))),l.a.createElement("div",{className:"ArtistGrid-arrow"},l.a.createElement("i",{className:"material-icons"},"navigate_next")))}}]),t}(l.a.Component),C=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={isMenuOpen:!1},a.handleMenuClicked=a.handleMenuClicked.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleMenuClicked",value:function(e){this.setState({isMenuOpen:e})}},{key:"render",value:function(){return l.a.createElement(d.a,{basename:""},l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},l.a.createElement(b,{isOpen:this.state.isMenuOpen,onMenuClicked:this.handleMenuClicked}),l.a.createElement(v,{isOpen:this.state.isMenuOpen})),l.a.createElement("div",{className:"App-content"},l.a.createElement(O.d,null,l.a.createElement(O.b,{exact:!0,path:"/",render:function(e){return l.a.createElement(D,e)}}),l.a.createElement(O.b,{exact:!0,path:"/releases",render:function(e){return l.a.createElement(D,e)}}),l.a.createElement(O.b,{path:"/releases/:slug",render:function(e){return l.a.createElement(g,e)}}),l.a.createElement(O.b,{exact:!0,path:"/artists",render:function(e){return l.a.createElement(M,e)}}))),l.a.createElement("footer",{className:"App-footer"},"Floordoor Records")))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.8aab36b7.chunk.js.map